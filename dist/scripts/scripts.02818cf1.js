"use strict";var underscore=angular.module("underscore",[]);underscore.factory("_",["$window",function(){return $window._}]);var app;app=angular.module("WIP",["ui.router","underscore","ui.bootstrap","smart-table","ngAnimate","config"]),app.config(function($stateProvider){$stateProvider.state("tabs",{url:"/",templateUrl:"views/tabs.html",controller:"OrdersCtrl",resolve:{orderData:function(wipService,configService){return wipService.getData(configService.config("open",""))},settlementsData:function(wipService,configService){return wipService.getData(configService.config("settlement",""))},completeOrders:function(wipService,configService){return wipService.getData(configService.config("complete",""))}}}).state("orderDetail",{templateUrl:"views/detail.html",controller:"OrderDetailCtrl",params:{accountId:null,accountName:null},resolve:{orderDetails:function(wipService,configService,$stateParams){var accountId=$stateParams.accountId;return wipService.getData(configService.config("detail",accountId))}}})}),app.run(function($state){$state.go("tabs")}),angular.module("config",[]).constant("DATA",{environment:"development",WIPServiceClient:"https://itgsyddev252-vip1:8449/wealth/services/orders/wip/v1/",WIPServiceBusiness:"https://itgsyddev252-vip1:8449/wealth/services/orders/wip/v1/businesses/",businessId:"MPMSWP",adviserId:"PFALL",openOrdersSuffix:"/orders/statuses/open/minimum",detailsSuffix:"account/",awaitingSettlementsSuffix:"orders/statuses/awaitingsettlement",completedOrdersSuffix:"orders/statuses/complete",assetTypesSuffix:"assettypes",orderTypesSuffix:"ordertypes",orderStatussesSuffix:"orderstatuses",orderSourcesSuffix:"ordersources",WIPTypeAheadServicePrefix:"https://www-masdev1.macquarie.com.au/wealth/services/reporting/v2.0/searchAccounts?searchText=",WIPTypeAheadServiceSuffix:"&bv=MPM&PD-REFERER=secure-test.macquarie.com.au"}),app.controller("OrdersCtrl",function($scope,$filter,$location,configService,orderData,settlementsData,completeOrders,$state){$scope.ordersTabActive=!0,$scope.settlementsTabActive=!1,$scope.completedTabActive=!1,$scope.showAdvancedSearch=!0,0===orderData.length?($scope.ordersTabActive=!1,$scope.settlementsTabActive=!0):($scope.displayedRows=orderData,$scope.accounts=orderData),$scope.settlements=settlementsData,$scope.completeOrders=completeOrders,$scope.advisers=["Mark","Ed","Fred",""],$scope.onSelect=function($item,$model,$label){$scope.$item=$item,$scope.$model=$model,$scope.$label=$label,$state.go("orderDetail",{accountId:$item.account.accountId.key})},$scope.resetFilter=function(){$scope.assetType="All"}}),app.directive("ordersTab",function(){return{templateUrl:"views/ordersTab.html"}}),app.directive("awaitingSettlementsTab",function(){return{templateUrl:"views/awaitingSettlementsTab.html"}}),app.directive("completeOrdersTab",function(){return{templateUrl:"views/completeOrdersTab.html"}}),angular.module("WIP").factory("configService",function(DATA){return{config:function(tabType,id){switch(tabType){case"open":return"mock"!==DATA.environment?DATA.WIPServiceBusiness+DATA.businessId+"/advisers/"+DATA.adviserId+DATA.openOrdersSuffix:"/modules/common/orders/mock/ordersTabMockData.json";case"settlement":return"mock"!==DATA.environment?DATA.WIPServiceBusiness+DATA.businessId+"/advisers/"+DATA.adviserId+"/"+DATA.awaitingSettlementsSuffix:"/modules/common/orders/mock/settlementsTabMockData.json";case"complete":return"mock"!==DATA.environment?DATA.WIPServiceBusiness+DATA.businessId+"/advisers/"+DATA.adviserId+"/"+DATA.completedOrdersSuffix:"/modules/common/orders/mock/completeOrdersTabMockData.json";case"detail":return"mock"!==DATA.environment?DATA.WIPServiceClient+DATA.detailsSuffix+id+"/orders":"/modules/common/orders/mock/orderDetailMock.json";case"auto":if("mock"!==DATA.environment)return DATA.WIPTypeAheadServicePrefix+id+DATA.WIPTypeAheadServiceSuffix;break;case"assetType":return DATA.WIPServiceClient+DATA.assetTypesSuffix;case"tradeType":return DATA.WIPServiceClient+DATA.orderTypesSuffix;case"orderStatus":return DATA.WIPServiceClient+DATA.orderStatussesSuffix;case"orderSourceType":return DATA.WIPServiceClient+DATA.orderSourcesSuffix}}}}),angular.module("WIP").factory("wipService",function($http){return{getData:function(url){return $http.get(url).then(function(result){return result.data})}}}),app.directive("stRatio",function(){return{link:function(scope,element,attr){var ratio=+attr.stRatio;element.css("width",ratio+"%")}}}),app.filter("showCurrency",function(){return function(input,symbol){switch(symbol){case"AUD":return"$"+input}}}),app.directive("tableFilter",function(wipService,configService){return{restrict:"E",templateUrl:"views/tableFilter.html",controller:function($scope){$scope.assetType={},$scope.assetType.code="",$scope.tradeType={},$scope.tradeType.code="",$scope.orderSource={},$scope.orderSource.code="",$scope.orderStatus={},$scope.orderStatus.code="",$scope.security="",wipService.getData(configService.config("assetType","")).then(function(data){$scope.assetTypes=data}),wipService.getData(configService.config("tradeType","")).then(function(data){$scope.tradeTypes=data}),wipService.getData(configService.config("orderSourceType","")).then(function(data){$scope.orderSourceTypes=data}),wipService.getData(configService.config("orderStatus","")).then(function(data){$scope.orderStatuses=data}),$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[0],$scope.status={opened:!1};var tomorrow=new Date;tomorrow.setDate(tomorrow.getDate()+1);var afterTomorrow=new Date;afterTomorrow.setDate(tomorrow.getDate()+2),$scope.events=[{date:tomorrow,status:"full"},{date:afterTomorrow,status:"partially"}],$scope.getDayClass=function(date,mode){if("day"===mode)for(var dayToCheck=new Date(date).setHours(0,0,0,0),i=0;i<$scope.events.length;i++){var currentDay=new Date($scope.events[i].date).setHours(0,0,0,0);if(dayToCheck===currentDay)return $scope.events[i].status}return""}}}}),app.filter("dateRange",function(){return function(input,dateFrom,dateTo,dateName){return _.filter(input,function(d){if(d[dateName]){var res=Date.parse(d[dateName])>=Date.parse(dateFrom)&&Date.parse(d[dateName])<=Date.parse(dateTo);return void 0===res&&(res=!1),res}return null})}}),app.directive("datePicker",function(){return{replace:!0,restrict:"E",templateUrl:"views/datepicker.html",scope:{dt:"=par1"},controller:function($scope){$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[2],$scope.status={opened:!1};var tomorrow=new Date;tomorrow.setDate(tomorrow.getDate()+1);var afterTomorrow=new Date;afterTomorrow.setDate(tomorrow.getDate()+2),$scope.events=[{date:tomorrow,status:"full"},{date:afterTomorrow,status:"partially"}],$scope.getDayClass=function(date,mode){if("day"===mode)for(var dayToCheck=new Date(date).setHours(0,0,0,0),i=0;i<$scope.events.length;i++){var currentDay=new Date($scope.events[i].date).setHours(0,0,0,0);if(dayToCheck===currentDay)return $scope.events[i].status}return""}}}}),app.directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(scope,element,attr,controller){controller.$formatters.shift()}}}),app.controller("OrderDetailCtrl",function($scope,$filter,$location,configService,orderDetails,$stateParams,wipService,DATA){$scope.orderDetails=orderDetails,$scope.showAdvancedSearch=!0,$scope.accountId=$stateParams.accountId,$scope.accountName=$stateParams.accountName,$scope.collapsed=!0,$scope.collapsedDetail=!0,$scope.refresh=function(){console.log("$scope.security;",$scope.security);var dtFrom="",dtTo="",url=DATA.WIPServiceClient+DATA.detailsSuffix+$scope.accountId+"/orders/search?orderSource="+$scope.orderSource.code+"&status="+$scope.orderStatus.code+"&orderType="+$scope.tradeType.code+"&fromDate=2014-03-01"+dtFrom+"&toDate=2015-03-01"+dtTo+"&security="+$scope.security+"&securityType="+$scope.assetType.code;wipService.getData(url).then(function(data){$scope.orderDetails=data})}}),app.directive("orderSourceFilter",function(){return{templateUrl:"views/orderSourceFilter.html",controller:function($scope){$scope.showAdvancedSearch=!1}}}),app.directive("resetFilter",function(){return{templateUrl:"views/resetFilter.html",controller:function($scope){$scope.resetFilter=function(){}}}}),app.filter("removeUnderscore",function(){return function(input){return input.replace(/_/g," ")}}),angular.module("WIP").run(["$templateCache",function($templateCache){$templateCache.put("views/awaitingSettlementsTab.html",'<div> {{settlements.length}} results match your search selection. <div> <table st-table="settlement" class="table table-striped"> <thead> <tr> <th st-ratio="25" st-sort="account.accountName">Account</th> <th st-ratio="10" st-sort="account.tradeDate">Trade date</th> <th st-ratio="5" st-sort="account.orderType">Type</th> <th st-ratio="25" st-sort="account.asset.name">Investment</th> <th st-ratio="5" st-sort="account.units">Units</th> <th st-ratio="5" st-sort="account.price">Price</th> <th st-ratio="5" st-sort="account.fee">Fee</th> <th st-ratio="5" st-sort="account.settlementValue">Value</th> <th st-ratio="5" st-sort="account.account.adviser.key">Adviser</th> <th st-ratio="10" st-sort="account.settlementDate">Date</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="account in settlements | filter : { \'account\': account}:true | dateRange:dateFrom:dateTo:\'settlementDate\' "> <td st-ratio="25"><a ui-sref="orderDetail({accountId:account.account.accountId.key})">{{account.account.accountName | limitTo:30}}</a> </td> <td st-ratio="5">{{account.tradeDate}}</td> <td st-ratio="5">{{account.orderType}}</td> <td st-ratio="25">{{account.asset.name }}</td> <td st-ratio="5">{{account.units}}</td> <td st-ratio="5">{{account.price.value | showCurrency:account.price.currency}}</td> <td st-ratio="5">{{account.fee}}</td> <td st-ratio="5">{{account.settlementValue.value | showCurrency:account.price.currency}}</td> <td st-ratio="5">{{account.account.adviser.key}}</td> <td st-ratio="20">{{account.settlementDate}}</td> <td> <i class="fa fa-file-pdf-o"></i> </td> </tr> </tbody> <tfoot> <tr> <td colspan="11" class="text-center"> <div st-items-by-page="10" st-pagination="10" st-template="views/pagination.custom.html"></div> </td> </tr> </tfoot> </table> </div> </div>'),$templateCache.put("views/completeOrdersTab.html",'<div> {{completeOrders.length}} results match your search selection. <div> <table st-table="completeOrders" class="table table-striped"> <thead> <tr> <th st-ratio="25" st-sort="account.accountName">Account</th> <th st-ratio="10" st-sort="account.tradeDate">Trade date</th> <th st-ratio="5" st-sort="account.orderType">Type</th> <th st-ratio="25" st-sort="account.asset.name">Investment</th> <th st-ratio="5" st-sort="account.units">Units</th> <th st-ratio="5" st-sort="account.price">Price</th> <th st-ratio="5" st-sort="account.fee">Fee</th> <th st-ratio="5" st-sort="account.settlementValue.value">Value</th> <th st-ratio="5" st-sort="account.account.adviser.key">Adviser</th> <th st-ratio="10" st-sort="account.settlementDate">Date</th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="account in completeOrders | filter : { \'account\': account}:true | dateRange:dateFrom:dateTo:\'settlementDate\'  "> <td st-ratio="25"><a ui-sref="orderDetail({accountId:account.account.accountId.key})">{{account.account.accountName | limitTo:30}}</a> </td> <td st-ratio="5">{{account.tradeDate}}</td> <td st-ratio="5">{{account.orderType}}</td> <td st-ratio="25">{{account.asset.name }}</td> <td st-ratio="5">{{account.units}}</td> <td st-ratio="5">{{account.price.value | showCurrency:account.price.currency}}</td> <td st-ratio="5">{{account.fee}}</td> <td st-ratio="5">{{account.settlementValue.value | showCurrency:account.price.currency}}</td> <td st-ratio="5">{{account.account.adviser.key}}</td> <td st-ratio="20">{{account.settlementDate}}</td> <td> <i class="fa fa-file-pdf-o"></i> </td> </tr> </tbody> <tfoot> <tr> <td colspan="11" class="text-center"> <div st-items-by-page="10" st-pagination="10" st-template="views/pagination.custom.html"></div> </td> </tr> </tfoot> </table> </div> </div>'),$templateCache.put("views/datepicker.html",'<p class="input-group"> <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" my-date> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p>'),$templateCache.put("views/detail.html",'<div class="orders"> <hr class="detail"> <div class="row form-inline"> <div class="col-sm-4"> <label>Account</label> <span>{{accountId}}</span> </div> <div class="col-sm-4"> <label>Accounttype</label> <span>??</span> </div> </div> <hr class="detail"> <div class="row form-inline"> <div class="col-sm-6"> <label>Accountname</label> <span>{{accountName}}</span> </div> </div> <hr class="detail"> <div class="row"> <order-source-filter></order-source-filter> <reset-filter></reset-filter> </div> <table-filter></table-filter> <div> <table st-table="displayedRows" st-safe-src="orderDetails" class="table table-striped"> <thead> <tr> <th st-ratio="10" st-sort="account.orderDate">ORDER DATE</th> <th st-ratio="15" st-sort="account.asset.name">INVESTMENT</th> <th st-ratio="10" st-sort="account.asset.type">TYPE</th> <th st-ratio="7" st-sort="account.totalUnits">UNITS</th> <th st-ratio="7" st-sort="account.unitsFilled">FILLED</th> <th st-ratio="5" st-sort="account.orderTransactionSummary.amount.value">PRICE</th> <th st-ratio="5" st-sort="account.valid">VALID</th> <th st-ratio="5" st-sort="account.applyAdviserFee">FEE</th> <th st-ratio="5" st-sort="account.value">AMOUNT</th> <th st-ratio="5" st-sort="account.dataSource">SOURCE</th> <th st-ratio="15" st-sort="account.transactions.state">STATUS</th> <th st-ratio="5" st-sort="account.detail"></th> </tr> </thead> <tbody ng-repeat="account in displayedRows"> <!--highest level row--> <tr> <td st-ratio="10">{{account.orderDate}}</td> <td st-ratio="15">{{account.asset.name | limitTo:30 }}{{account.asset.name.length >= 30 ? \'...\' : \'\'}}</td> <td st-ratio="10">{{account.asset.type| removeUnderscore | limitTo:10 }}{{account.asset.type.length >= 10 ? \'...\' : \'\'}}</td> <td st-ratio="7">{{account.totalUnits}}</td> <td st-ratio="7">{{account.unitsFilled}}</td> <td st-ratio="5">{{account.limitPrice.currency}}&nbsp{{account.limitPrice.value|currency}}</td> <td st-ratio="5">{{account.expiryMethod}}</td> <td st-ratio="5">{{account.limitPrice.currency}}&nbsp{{account.applyAdviserFee| currency}}</td> <td st-ratio="5">{{account.orderTransactionSummary.amount.currency}}&nbsp{{account.orderTransactionSummary.amount.value|currency}}</td> <td st-ratio="5">{{account.dataSource}}</td> <td st-ratio="10">{{account.orderState}}</td> <td st-ratio="5"><a ng-class="{true:\'fa fa-plus\', false:\'fa fa-minus\'}[collapsed]" ng-click="collapsed = !collapsed"></a> </td> </tr> <tr collapse="collapsed"> <th></th> <th></th> <th></th> <th st-ratio="7" st-sort="transaction.reference">REF</th> <th st-ratio="7" st-sort="transaction.orderTaker">TAKER</th> <th st-ratio="20" st-sort="transaction.lastUpdated">UPDATED</th> <th st-ratio="5" st-sort="transaction.filledUnits">FILLED</th> <th st-ratio="5" st-sort="transaction.price">PRICE</th> <th st-ratio="5" st-sort="transaction.amount">AMOUNT</th> <th st-ratio="5" st-sort="transaction.fundingPriority">PRIORITY</th> <th st-ratio="10" st-sort="transaction.status">STATUS</th> </tr> <!--1st level detail--> <tr collapse="collapsed"> <td></td> <td></td> <td></td> <td><span ng-show="account.transactions.fundingPriority=!\'Transacting\'">{{transaction.reference}}</span> <span ng-hide="account.transactions.fundingPriority=!\'Transacting\'"> <a ng-click="collapsedDetail=!collapsedDetail">{{account.orderTransactionSummary.reference}}</a></span> </td> <td> {{account.orderTransactionSummary.orderTaker}}</td> <td> {{account.orderTransactionSummary.lastUpdatedDateTime}}</td> <td> {{account.orderTransactionSummary.unitsFilled}}</td> <td> {{account.orderTransactionSummary.price.currency}}&nbsp{{account.orderTransactionSummary.price.value|currency}}</td> <td> {{account.orderTransactionSummary.amount.currency}}&nbsp{{account.orderTransactionSummary.amount.value|currency}}</td> <td> {{account.orderTransactionSummary.fundingMethod}}</td> <td> {{account.orderTransactionSummary.state}}</td> </tr> <!--2nd level detail--> <tr collapse="collapsedDetail" ng-repeat="transaction in account.transactions"> <td></td> <td></td> <td></td> <td></td> <td></td> <td>{{transaction.transactionDateTime}}</td> <td>{{transaction.filledUnits}}</td> <td>{{transaction.price.currency}}{{transaction.price.value|currency}}</td> <td>{{transaction.amount.currency}} {{transaction.amount.value|currency}}</td> <td>{{transaction.priority}} </td> <td>{{transaction.state}} </td> </tr> <tfoot> <tr> <td colspan="13" class="text-center"> <div st-items-by-page="10" st-pagination="10" st-template="views/pagination.custom.html"></div> </td> </tr> </tfoot> </tbody></table> </div> <a ui-sref="tabs">back</a> </div>'),$templateCache.put("views/orderSourceFilter.html",'<div class="col-sm-2"> <label for="">Order source</label> <select ng-model="orderSource" ng-options="source.name for source in orderSourceTypes" class="form-control"> <option value="">-</option> </select> </div> <div class="col-sm-2"> <label for="">Status</label> <select ng-model="orderStatus" ng-options="status.name for status in orderStatuses" class="form-control"> <option value="">-</option> </select> </div> <div class="col-sm-2 advancedSearch"> <a href="#" ng-click="showAdvancedSearch=!showAdvancedSearch">Advanced search</a> </div>'),$templateCache.put("views/ordersTab.html",'<div> <div> <span class="results"> {{accounts.length}} results match your search selection. </span> <table st-ratio="100" st-table="displayedRows" st-safe-src="accounts" class="table table-striped"> <thead> <tr> <th st-ratio="10" st-sort="accountId.key">Account</th> <th st-ratio="30" st-sort="account.accountName"></th> <th st-ratio="10" st-sort="account.adviser">Adviser</th> <th st-ratio="20" st-sort="account.productName">Product</th> <th st-ratio="30" st-sort="minOpenOrderState">Status</th> </tr> </thead> <tbody> <tr ng-repeat="acc in accounts | filter : { \'account\': account}:true "> <td st-ratio="10"><a ui-sref="orderDetail({accountId:acc.account.accountId.key,accountName:acc.account.accountName})"> {{acc.account.accountId.key}}</a></td> <td st-ratio="10">{{acc.account.accountName | limitTo:30}}</td> <td st-ratio="10">{{acc.account.adviser.key}}</td> <td st-ratio="10">{{acc.account.productName}}</td> <td st-ratio="10">{{acc.minOpenOrderState}}</td> </tr> </tbody> <tfoot> <tr> <td colspan="5" class="text-center"> <div st-items-by-page="10" st-pagination="" st-template="views/pagination.custom.html"></div> </td> </tr> </tfoot> </table> </div> </div>'),$templateCache.put("views/pagination.custom.html",'<nav> <ul class="pagination"> <li><a ng-click="selectPage(1)">First</a> </li><li><a ng-click="selectPage(currentPage - 1)">&lt;</a> </li><li><a><page-select></page-select> of {{numPages}}</a> </li><li><a ng-click="selectPage(currentPage + 1)">&gt;</a> </li><li><a ng-click="selectPage(numPages)">Last</a></li> </ul> </nav>'),$templateCache.put("views/resetFilter.html",'<div class="resetFilter"> <a href="#" ng-click="resetFilter()">Reset Filter</a> &nbsp<a ng-click="refresh()" href="#">Refresh</a> <i class="fa fa-file-excel-o"></i> <a ng-mousedown="csv.generate()" ng-href="{{ csv.link() }}" download="test.csv">Export to CSV</a> <i class="fa fa-print"></i> <a href="#">Print</a> </div>'),$templateCache.put("views/tableFilter.html",'<div collapse="!showAdvancedSearch"> <div class="row tableFilter"> <div class="col-sm-2"> <label for="">Asset type</label> <select class="form-control" name="" ng-model="assetType" ng-options="item.name for item in assetTypes"> <option value="">-</option> </select> </div> <div class="col-sm-2"> <label for="">Security</label> <input class="form-control" ng-model="security" type="text"> </div> <div class="col-sm-2"> <label for="">Trade type</label> <select class="form-control" ng-model="tradeType" ng-options="item.name for item in tradeTypes"> <option value="">-</option> </select> </div> <div class="col-sm-2"> <label for="">Date from:</label> <date-picker par1="dateFrom"></date-picker> </div> <div class="col-sm-2"> <label for="">Date to:</label> <date-picker par1="dateTo"></date-picker> </div> <div class="col-sm-2"> <label for="">Period</label> <select class="form-control" ng-options="item for item in periodTypes"> </select> </div> </div> </div>'),$templateCache.put("views/tabs.html",'<div class="main"> <div class="well search form-inline"> <div class="row"> <div class="col-sm-8"> <label for="">Account Search:</label> <input type="text" id="selectaccount" ng-model="selectedAccount" placeholder="Select accountname" typeahead-on-select="onSelect($item, $model, $label)" typeahead="(account.account.accountId.key + \' \' + account.account.accountName) for account in accounts | filter:$viewValue | limitTo:8" class="form-control" typeahead-loading="loadingAccounts"> <i ng-show="loadingAccounts" class="glyphicon glyphicon-refresh"></i> <div ng-show="noResults"> <i class="glyphicon glyphicon-remove"></i> No Results Found </div> </div> <div class="col-sm-4"> <label for="">Adviser:</label> <select id="selectadviser" class="form-control" name="" id="" ng-options="adviser for adviser in advisers" ng-model="account.adviser"> </select> </div> </div> </div> <div reset-filter=""></div> <div class="orders"> <div> <div> <div> <tabset id="tab"> <tab heading="Orders" active="ordersTabActive"> <orders-tab></orders-tab> </tab> <tab heading="Awaiting settlement" active="settlementsTabActive"> <table-filter security="acc"></table-filter> <awaiting-settlements-tab></awaiting-settlements-tab> </tab> <tab heading="Complete" active="completedTabActive"> <table-filter></table-filter> <complete-orders-tab></complete-orders-tab> </tab> </tabset> </div> </div> </div> </div> </div>')}]);