<div class="orders">
<hr class="detail"/>

<div class="row form-inline">
    <div class="col-sm-4">
        <label>Account</label>
        <span>{{orderDetails.accountId}}</span>
    </div>
    <div class="col-sm-4">
        <label>Accounttype</label>
        <span>{{orderDetails.accountType}}</span>
    </div>
</div>

<hr class="detail"/>

<div class="row form-inline">
    <div class="col-sm-6">
        <label>Accountname</label>
        <span>{{orderDetails.accountName}}</span>
    </div>
</div>

<hr class="detail"/>

<div class="row">
    <order-source-filter></order-source-filter>
    <reset-filter></reset-filter>
</div>

<table-filter></table-filter>


<div>
    <table st-table="displayedRows"  st-safe-src="orderDetails" class="table table-striped">
        <thead>
        <tr>
            <th st-ratio="10" st-sort="account.orderDate">ORDER DATE</th>
            <th st-ratio="10" st-sort="account.asset.name">INVESTMENT</th>
            <th st-ratio="10" st-sort="account.asset.type">TYPE</th>
            <th st-ratio="10" st-sort="account.totalUnits">UNITS</th>
            <th st-ratio="10" st-sort="account.unitsFilled">FILLED</th>
            <th st-ratio="5" st-sort="account.limitPrice.value">PRICE</th>
            <th st-ratio="10" st-sort="account.valid">VALID</th>
            <th st-ratio="5" st-sort="account.fee">FEE</th>
            <th st-ratio="5" st-sort="account.value">AMOUNT</th>
            <th st-ratio="5" st-sort="account.dataSource">SOURCE</th>
            <th st-ratio="10" st-sort="account.transactions.state">STATUS</th>
            <th st-ratio="5" st-sort="account.detail">DETAILS</th>

        </tr>
        </thead>



        <tbody ng-repeat="account in displayedRows">

        <tr>
            <td st-ratio="20">{{account.orderDate}}</td>
            <td st-ratio="10">{{account.asset.name}}</td>
            <td st-ratio="10">{{account.asset.type}}</td>
            <td st-ratio="">{{account.totalUnits}}</td>
            <td st-ratio="5">{{account.unitsFilled}}</td>
            <td st-ratio="5">{{account.limitPrice.value}}</td>
            <td st-ratio="10">??</td>
            <td st-ratio="5">??</td>
            <td st-ratio="5">{{account.value}}</td>
            <td st-ratio="5">{{account.dataSource}}</td>
            <td st-ratio="10">{{account.transactions.state}}</td>
            <td st-ratio="5">
                <!--<a ng-class="{true:'fa fa-plus', false:'fa fa-minus'}[collapsed]" ng-click="collapsed = !collapsed"></a></td>-->
                <a class="fa fa-plus" ng-click="collapsed = !collapsed">details</a></td>
        </tr>

        <tr collapse="collapsed">
            <th></th>
            <th></th>
            <th st-ratio="7" st-sort="transaction.reference">REF</th>
            <th st-ratio="10" st-sort="transaction.orderTaker">TAKER</th>
            <th st-ratio="23" st-sort="transaction.lastUpdated">UPDATED</th>
            <th st-ratio="5" st-sort="transaction.filledUnits">FILLED</th>
            <th st-ratio="5" st-sort="transaction.price">PRICE</th>
            <th st-ratio="10" st-sort="transaction.amount">AMOUNT</th>
            <th st-ratio="10" st-sort="transaction.fundingPriority">PRIORITY</th>
            <th st-ratio="10" st-sort="transaction.status">STATUS</th>
        </tr>
        <tr collapse="collapsed">
            <td></td>
            <td></td>
            <td><span ng-show="account.transactions.fundingPriority=!'Transacting'">{{transaction.reference}}</span>
                <span ng-hide="account.transactions.fundingPriority=!'Transacting'"><a
                        ng-click="collapsedDetail=!collapsedDetail">{{account.transactions.reference}}</a></span></td>
            <td> {{account.transactions.orderTaker}}</td>
            <td> {{account.transactions.lastUpdated}}</td>

            <td> {{account.transactions.filledUnits}}</td>
            <td> ${{account.transactions.price}}</td>
            <td> ${{account.transactions.amount}}</td>
            <td> {{account.transactions.fundingPriority}}</td>
            <td> {{account.transactions.status}}</td>
        </tr>
        <tr collapse="collapsedDetail" ng-repeat="transaction in account.transactions.detailTransactions">
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>{{transaction.lastUpdated}}</td>
            <td>{{transaction.filledUnits}}</td>
            <td>${{transaction.price}}</td>
        </tr>

    </table>
</div>


<!--todo remove this-->
<a ui-sref="tabs">back</a>

<!--<table>-->
<!--<tr>-->
<!--<th></th>-->
<!--<th></th>-->
<!--<th st-ratio="7" st-sort="transaction.reference">REF</th>-->
<!--<th st-ratio="10" st-sort="transaction.orderTaker">TAKER</th>-->
<!--<th st-ratio="23" st-sort="transaction.lastUpdated">UPDATED</th>-->
<!--<th st-ratio="5" st-sort="transaction.filledUnits">FILLED</th>-->
<!--<th st-ratio="5" st-sort="transaction.price">PRICE</th>-->
<!--<th st-ratio="10" st-sort="transaction.amount">AMOUNT</th>-->
<!--<th st-ratio="10" st-sort="transaction.fundingPriority">PRIORITY</th>-->
<!--<th st-ratio="10" st-sort="transaction.status">STATUS</th>-->
<!--</tr>-->
<!--</table>-->


<!--<tr collapse="collapsed">-->
<!--<td st-ratio="2"></td>-->
<!--<td st-ratio="5"></td>-->
<!--<td st-ratio="100" colspan="18">-->

<!--<table st-ratio="100" class="table table-striped">-->
<!--<thead>-->

<!--<tr>-->
<!--<td></td>-->
<!--<td></td>-->
<!--<td colspan="16" class="transactionDetails">-->
<!--<h5>Transaction Details</h5>-->
<!--</td>-->
<!--</tr>-->

<!--<tr>-->
<!--<th></th>-->
<!--<th></th>-->
<!--<th st-ratio="7" st-sort="transaction.reference">REF</th>-->
<!--<th st-ratio="10" st-sort="transaction.orderTaker">TAKER</th>-->
<!--<th st-ratio="23" st-sort="transaction.lastUpdated">UPDATED</th>-->
<!--<th st-ratio="5" st-sort="transaction.filledUnits">FILLED</th>-->
<!--<th st-ratio="5" st-sort="transaction.price">PRICE</th>-->
<!--<th st-ratio="10" st-sort="transaction.amount">AMOUNT</th>-->
<!--<th st-ratio="10" st-sort="transaction.fundingPriority">PRIORITY</th>-->
<!--<th st-ratio="10" st-sort="transaction.status">STATUS</th>-->
<!--</tr>-->
<!--</thead>-->
<!--<tbody>-->

<!--<table st-ratio="100" class="table table-striped">-->
<!--<tr ng-repeat="transaction in account.transactions">-->
<!--<td>-->

<!--</td>-->
<!--<td></td>-->
<!--<td st-ratio="7">-->
<!--<span ng-show="transaction.fundingPriority=!'Transacting'">{{transaction.reference}}</span>-->
<!--<span ng-hide="transaction.fundingPriority=!'Transacting'"><a-->
<!--ng-click="collapseddetail=!collapseddetail">{{transaction.reference}}</a> </span>-->
<!--</td>-->
<!--<td st-ratio="10">-->
<!--{{transaction.orderTaker}}-->
<!--</td>-->
<!--<td st-ratio="23">-->
<!--{{transaction.lastUpdated}}-->
<!--</td>-->
<!--<td st-ratio="5">-->
<!--{{transaction.filledUnits}}-->
<!--</td>-->
<!--<td st-ratio="5">-->
<!--${{transaction.price}}-->
<!--</td>-->
<!--<td st-ratio="10">-->
<!--${{transaction.amount}}-->
<!--</td>-->
<!--<td st-ratio="10">-->
<!--{{transaction.fundingPriority}}-->
<!--</td>-->
<!--<td st-ratio="10">-->
<!--{{transaction.status}}-->
<!--</td>-->
<!--</tr>-->


<!--&lt;!&ndash;<tr collapse="collapseddetail" ng-repeat="transactions in transaction.detailTransactions">&ndash;&gt;-->
<!--&lt;!&ndash;<td>testing detaillll</td>&ndash;&gt;-->
<!--&lt;!&ndash;{{transactions}}&ndash;&gt;-->
<!--&lt;!&ndash;</tr>&ndash;&gt;-->


<!--</table>-->
<!--</td>-->
<!--<td></td>-->
<!--</tr>-->

<!--</tbody>-->
<!--<tfoot>-->
<!--<tr>-->
<!--<td colspan="11" id="text-center">-->
<!--<div st-items-by-page="10" st-pagination="10"-->
<!--st-template="views/pagination.custom.html"></div>-->
<!--</td>-->
<!--</tr>-->
<!--</tfoot>-->
<!--</table>-->

<!--</td>-->
<!--</tr>-->

</div>
